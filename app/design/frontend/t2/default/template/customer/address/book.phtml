<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (c) 2014 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<?php
/**
 * Temlate for Mage_Customer_Block_Address_Book block
 * @var $test Mage_Customer_Block_Address_Book
 */
?>
<div class="page-title title-buttons">
	<h1 class="section-title-inner"><span><?php echo $this->__('Address Book') ?></span></h1>
</div>
<?php echo $this->getMessagesBlock()->getGroupedHtml() ?>
<div class="col2-set addresses-list">
	<p><?php echo $this->__('Please configure your default billing and delivery addresses when placing an order. You may also add additional addresses, which can be useful for sending gifts or receiving an order at your office.'); ?></p>
	<div class="col-lg-12">
	  <h2 class="block-title-2"> Your addresses are listed below. </h2>
	  <p> Be sure to update your personal information if it has changed.</p>
	</div>
	<div class="w100 clearfix"> 
		<div class="col-xs-12 col-sm-6 col-md-4">
		<div class="panel panel-default">
		  <div class="panel-heading">
			<h3 class="panel-title"><strong><?php echo $this->__('Default Billing Address') ?></strong></h3>
		  </div>
		  <div class="panel-body">
		  <?php if($_pAddsses = Mage::getSingleton('customer/session')->getCustomer()->getDefaultBilling()): ?>
			<address>
				<?php echo $this->getAddressHtml(Mage::getSingleton('customer/session')->getCustomer()->getAddressById($_pAddsses)) ?>
			</address>
			<?php else: ?>
			<?php echo $this->__('You have no default billing address in your address book.') ?>
			<?php endif ?>
		  </div>
		  <div class="panel-footer panel-footer-address"> 
		  <?php if($_pAddsses = Mage::getSingleton('customer/session')->getCustomer()->getDefaultBilling()): ?>
		  <a href="<?php echo $this->getAddressEditUrl(Mage::getSingleton('customer/session')->getCustomer()->getAddressById($_pAddsses)) ?>"  class="btn btn-sm btn-warning"> <i class="fa fa-edit"> </i> <?php echo $this->__('Change Billing Address');?> </a>
		<?php endif; ?>
		  </div>
		</div>
		</div>

		<div class="col-xs-12 col-sm-6 col-md-4">
		<div class="panel panel-default">
		  <div class="panel-heading">
			<h3 class="panel-title"><strong><?php echo $this->__('Default Shipping Address') ?></strong></h3>
		  </div>
		  <div class="panel-body">
			 <?php if($_pAddsses = Mage::getSingleton('customer/session')->getCustomer()->getDefaultShipping()): ?>
                <address>
                    <?php echo $this->getAddressHtml(Mage::getSingleton('customer/session')->getCustomer()->getAddressById($_pAddsses)) ?>
                </address>
        <?php else: ?>
                <p><?php echo $this->__('You have no default shipping address in your address book.') ?></p>
        <?php endif ?>
		  </div>
		  <div class="panel-footer panel-footer-address"> 
		  <?php if($_pAddsses = Mage::getSingleton('customer/session')->getCustomer()->getDefaultShipping()): ?>
		  <a href="<?php echo $this->getAddressEditUrl(Mage::getSingleton('customer/session')->getCustomer()->getAddressById($_pAddsses)) ?>" class="btn btn-sm btn-warning"> <i class="fa fa-edit"> </i> <?php echo $this->__('Change Shipping Address') ?></a> 
			<?php endif; ?>
		  </div>
		</div>
		</div>

		<div class="col-xs-12 col-sm-6 col-md-4">
		<div class="panel panel-default">
		  <div class="panel-heading">
			<h3 class="panel-title"><strong><?php echo $this->__('Additional Address Entries') ?></strong></h3>
		  </div>
		  <div class="panel-body">
			<?php if($_pAddsses = $this->getAdditionalAddresses()): ?>
            <?php foreach($_pAddsses as $_address): ?>
                <address>
                    <?php echo $this->getAddressHtml($_address) ?>
                </address>
            <?php endforeach; ?>
        <?php else: ?>
                <p><?php echo $this->__('You have no additional address entries in your address book.') ?></p>
        <?php endif ?>
		  </div>
		  <div class="panel-footer panel-footer-address"> 
		  <?php if($_pAddsses = $this->getAdditionalAddresses()): ?>
		  <a href="<?php echo $this->getUrl('customer/address/edit', array('id'=>$_address->getId())) ?>"class="btn btn-sm btn-warning"> <i class="fa fa-edit"> </i><?php echo $this->__('Edit') ?></a> <a href="#" class="link-remove btn btn-sm btn-danger" onclick="return deleteAddress('<?php echo $_address->getId() ?>');"> <i class="fa fa-minus-circle"></i> <?php echo $this->__('Delete') ?></a>
		  <?php endif; ?>
		  </div>
		</div>
		</div>

	</div><!--/.w100-->
	<div class="hr3"></div>
	<div class="col-lg-12 clearfix">
	 <a class="btn   btn-primary" title="<?php echo $this->__('Add New Address') ?>" onclick="window.location='<?php echo $this->getAddAddressUrl() ?>';"><i class="fa fa-plus-circle"></i> <?php echo $this->__('Add New Address') ?> </a>
	 </div>
	 
	<div class="col-lg-12 clearfix">
	  <ul class="pager">
		<li class="previous pull-right"><a href="<?php echo $this->getUrl('');?>" title="<?php echo $this->__('Go to Shop');?>"> <i class="fa fa-home"></i> <?php echo $this->__('Go to Shop');?> </a></li>
		<li class="next pull-left"><a href="<?php echo $this->getUrl('');?>customer/account/" title="<?php echo $this->__('Back to My Account');?>">&larr; <?php echo $this->__('Back to My Account');?></a></li>
	  </ul>
	</div>
</div>
<script type="text/javascript">
//<![CDATA[
    function deleteAddress(addressId) {
        if(confirm('<?php echo $this->__('Are you sure you want to delete this address?') ?>')) {
            window.location='<?php echo $this->getDeleteUrl() ?>id/'+addressId;
        }
        return false;
    }
//]]>
</script>
